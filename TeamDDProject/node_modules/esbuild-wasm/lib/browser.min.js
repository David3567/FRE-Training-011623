(module=>{
"use strict";var we=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var Ke=Object.getOwnPropertyNames;var _e=Object.prototype.hasOwnProperty;var Ve=(e,t)=>{for(var r in t)we(e,r,{get:t[r],enumerable:!0})},Ye=(e,t,r,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of Ke(t))!_e.call(e,a)&&a!==r&&we(e,a,{get:()=>t[a],enumerable:!(i=ze(t,a))||i.enumerable});return e};var Je=e=>Ye(we({},"__esModule",{value:!0}),e);var ee=(e,t,r)=>new Promise((i,a)=>{var l=g=>{try{s(r.next(g))}catch(y){a(y)}},c=g=>{try{s(r.throw(g))}catch(y){a(y)}},s=g=>g.done?i(g.value):Promise.resolve(g.value).then(l,c);s((r=r.apply(e,t)).next())});var be={};Ve(be,{analyzeMetafile:()=>gt,analyzeMetafileSync:()=>bt,build:()=>ft,buildSync:()=>mt,default:()=>Rt,formatMessages:()=>pt,formatMessagesSync:()=>ht,initialize:()=>wt,serve:()=>ct,transform:()=>dt,transformSync:()=>yt,version:()=>ut});module.exports=Je(be);function xe(e){let t=i=>{if(i===null)r.write8(0);else if(typeof i=="boolean")r.write8(1),r.write8(+i);else if(typeof i=="number")r.write8(2),r.write32(i|0);else if(typeof i=="string")r.write8(3),r.write(H(i));else if(i instanceof Uint8Array)r.write8(4),r.write(i);else if(i instanceof Array){r.write8(5),r.write32(i.length);for(let a of i)t(a)}else{let a=Object.keys(i);r.write8(6),r.write32(a.length);for(let l of a)r.write(H(l)),t(i[l])}},r=new ce;return r.write32(0),r.write32(e.id<<1|+!e.isRequest),t(e.value),Re(r.buf,r.len-4,0),r.buf.subarray(0,r.len)}function Ce(e){let t=()=>{switch(r.read8()){case 0:return null;case 1:return!!r.read8();case 2:return r.read32();case 3:return ne(r.read());case 4:return r.read();case 5:{let c=r.read32(),s=[];for(let g=0;g<c;g++)s.push(t());return s}case 6:{let c=r.read32(),s={};for(let g=0;g<c;g++)s[ne(r.read())]=t();return s}default:throw new Error("Invalid packet")}},r=new ce(e),i=r.read32(),a=(i&1)===0;i>>>=1;let l=t();if(r.ptr!==e.length)throw new Error("Invalid packet");return{id:i,isRequest:a,value:l}}var ce=class{constructor(t=new Uint8Array(1024)){this.buf=t;this.len=0;this.ptr=0}_write(t){if(this.len+t>this.buf.length){let r=new Uint8Array((this.len+t)*2);r.set(this.buf),this.buf=r}return this.len+=t,this.len-t}write8(t){let r=this._write(1);this.buf[r]=t}write32(t){let r=this._write(4);Re(this.buf,t,r)}write(t){let r=this._write(4+t.length);Re(this.buf,t.length,r),this.buf.set(t,r+4)}_read(t){if(this.ptr+t>this.buf.length)throw new Error("Invalid packet");return this.ptr+=t,this.ptr-t}read8(){return this.buf[this._read(1)]}read32(){return Oe(this.buf,this._read(4))}read(){let t=this.read32(),r=new Uint8Array(t),i=this._read(r.length);return r.set(this.buf.subarray(i,i+t)),r}},H,ne,ve;if(typeof TextEncoder!="undefined"&&typeof TextDecoder!="undefined"){let e=new TextEncoder,t=new TextDecoder;H=r=>e.encode(r),ne=r=>t.decode(r),ve='new TextEncoder().encode("")'}else if(typeof Buffer!="undefined")H=e=>Buffer.from(e),ne=e=>{let{buffer:t,byteOffset:r,byteLength:i}=e;return Buffer.from(t,r,i).toString()},ve='Buffer.from("")';else throw new Error("No UTF-8 codec found");if(!(H("")instanceof Uint8Array))throw new Error(`Invariant violation: "${ve} instanceof Uint8Array" is incorrectly false

This indicates that your JavaScript environment is broken. You cannot use
esbuild in this environment because esbuild relies on this invariant. This
is not a problem with esbuild. You need to fix your environment instead.
`);function Oe(e,t){return e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24}function Re(e,t,r){e[r++]=t,e[r++]=t>>8,e[r++]=t>>16,e[r++]=t>>24}var J=JSON.stringify,Ae="warning",De="silent";function Pe(e){if(V(e,"target"),e.indexOf(",")>=0)throw new Error(`Invalid target: ${e}`);return e}var ge=()=>null,F=e=>typeof e=="boolean"?null:"a boolean",He=e=>typeof e=="boolean"||typeof e=="object"&&!Array.isArray(e)?null:"a boolean or an object",b=e=>typeof e=="string"?null:"a string",me=e=>e instanceof RegExp?null:"a RegExp object",se=e=>typeof e=="number"&&e===(e|0)?null:"an integer",Se=e=>typeof e=="function"?null:"a function",W=e=>Array.isArray(e)?null:"an array",X=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"an object",Ge=e=>e instanceof WebAssembly.Module?null:"a WebAssembly.Module",Xe=e=>typeof e=="object"&&e!==null?null:"an array or an object",Te=e=>typeof e=="object"&&!Array.isArray(e)?null:"an object or null",Ue=e=>typeof e=="string"||typeof e=="boolean"?null:"a string or a boolean",Ze=e=>typeof e=="string"||typeof e=="object"&&e!==null&&!Array.isArray(e)?null:"a string or an object",et=e=>typeof e=="string"||Array.isArray(e)?null:"a string or an array",Fe=e=>typeof e=="string"||e instanceof Uint8Array?null:"a string or a Uint8Array",tt=e=>typeof e=="string"||e instanceof URL?null:"a string or a URL";function n(e,t,r,i){let a=e[r];if(t[r+""]=!0,a===void 0)return;let l=i(a);if(l!==null)throw new Error(`${J(r)} must be ${l}`);return a}function K(e,t,r){for(let i in e)if(!(i in t))throw new Error(`Invalid option ${r}: ${J(i)}`)}function je(e){let t=Object.create(null),r=n(e,t,"wasmURL",tt),i=n(e,t,"wasmModule",Ge),a=n(e,t,"worker",F);return K(e,t,"in initialize() call"),{wasmURL:r,wasmModule:i,worker:a}}function Ne(e){let t;if(e!==void 0){t=Object.create(null);for(let r in e){let i=e[r];if(typeof i=="string"||i===!1)t[r]=i;else throw new Error(`Expected ${J(r)} in mangle cache to map to either a string or false`)}}return t}function ye(e,t,r,i,a){let l=n(t,r,"color",F),c=n(t,r,"logLevel",b),s=n(t,r,"logLimit",se);l!==void 0?e.push(`--color=${l}`):i&&e.push("--color=true"),e.push(`--log-level=${c||a}`),e.push(`--log-limit=${s||0}`)}function V(e,t,r){if(typeof e!="string")throw new Error(`Expected value for ${t}${r!==void 0?" "+J(r):""} to be a string, got ${typeof e} instead`);return e}function Le(e,t,r){let i=n(t,r,"legalComments",b),a=n(t,r,"sourceRoot",b),l=n(t,r,"sourcesContent",F),c=n(t,r,"target",et),s=n(t,r,"format",b),g=n(t,r,"globalName",b),y=n(t,r,"mangleProps",me),R=n(t,r,"reserveProps",me),C=n(t,r,"mangleQuoted",F),U=n(t,r,"minify",F),k=n(t,r,"minifySyntax",F),T=n(t,r,"minifyWhitespace",F),q=n(t,r,"minifyIdentifiers",F),I=n(t,r,"drop",W),Y=n(t,r,"charset",b),x=n(t,r,"treeShaking",F),d=n(t,r,"ignoreAnnotations",F),o=n(t,r,"jsx",b),f=n(t,r,"jsxFactory",b),h=n(t,r,"jsxFragment",b),E=n(t,r,"jsxImportSource",b),A=n(t,r,"jsxDev",F),u=n(t,r,"jsxSideEffects",F),p=n(t,r,"define",X),w=n(t,r,"logOverride",X),S=n(t,r,"supported",X),O=n(t,r,"pure",W),D=n(t,r,"keepNames",F),M=n(t,r,"platform",b);if(i&&e.push(`--legal-comments=${i}`),a!==void 0&&e.push(`--source-root=${a}`),l!==void 0&&e.push(`--sources-content=${l}`),c&&(Array.isArray(c)?e.push(`--target=${Array.from(c).map(Pe).join(",")}`):e.push(`--target=${Pe(c)}`)),s&&e.push(`--format=${s}`),g&&e.push(`--global-name=${g}`),M&&e.push(`--platform=${M}`),U&&e.push("--minify"),k&&e.push("--minify-syntax"),T&&e.push("--minify-whitespace"),q&&e.push("--minify-identifiers"),Y&&e.push(`--charset=${Y}`),x!==void 0&&e.push(`--tree-shaking=${x}`),d&&e.push("--ignore-annotations"),I)for(let v of I)e.push(`--drop:${V(v,"drop")}`);if(y&&e.push(`--mangle-props=${y.source}`),R&&e.push(`--reserve-props=${R.source}`),C!==void 0&&e.push(`--mangle-quoted=${C}`),o&&e.push(`--jsx=${o}`),f&&e.push(`--jsx-factory=${f}`),h&&e.push(`--jsx-fragment=${h}`),E&&e.push(`--jsx-import-source=${E}`),A&&e.push("--jsx-dev"),u&&e.push("--jsx-side-effects"),p)for(let v in p){if(v.indexOf("=")>=0)throw new Error(`Invalid define: ${v}`);e.push(`--define:${v}=${V(p[v],"define",v)}`)}if(w)for(let v in w){if(v.indexOf("=")>=0)throw new Error(`Invalid log override: ${v}`);e.push(`--log-override:${v}=${V(w[v],"log override",v)}`)}if(S)for(let v in S){if(v.indexOf("=")>=0)throw new Error(`Invalid supported: ${v}`);let $=S[v];if(typeof $!="boolean")throw new Error(`Expected value for supported ${J(v)} to be a boolean, got ${typeof $} instead`);e.push(`--supported:${v}=${$}`)}if(O)for(let v of O)e.push(`--pure:${V(v,"pure")}`);D&&e.push("--keep-names")}function rt(e,t,r,i,a){var ie;let l=[],c=[],s=Object.create(null),g=null,y=null,R=null;ye(l,t,s,r,i),Le(l,t,s);let C=n(t,s,"sourcemap",Ue),U=n(t,s,"bundle",F),k=n(t,s,"watch",He),T=n(t,s,"splitting",F),q=n(t,s,"preserveSymlinks",F),I=n(t,s,"metafile",F),Y=n(t,s,"outfile",b),x=n(t,s,"outdir",b),d=n(t,s,"outbase",b),o=n(t,s,"tsconfig",b),f=n(t,s,"resolveExtensions",W),h=n(t,s,"nodePaths",W),E=n(t,s,"mainFields",W),A=n(t,s,"conditions",W),u=n(t,s,"external",W),p=n(t,s,"packages",b),w=n(t,s,"alias",X),S=n(t,s,"loader",X),O=n(t,s,"outExtension",X),D=n(t,s,"publicPath",b),M=n(t,s,"entryNames",b),v=n(t,s,"chunkNames",b),$=n(t,s,"assetNames",b),z=n(t,s,"inject",W),_=n(t,s,"banner",X),N=n(t,s,"footer",X),P=n(t,s,"entryPoints",Xe),B=n(t,s,"absWorkingDir",b),j=n(t,s,"stdin",X),G=(ie=n(t,s,"write",F))!=null?ie:a,re=n(t,s,"allowOverwrite",F),fe=n(t,s,"incremental",F)===!0,Z=n(t,s,"mangleCache",X);if(s.plugins=!0,K(t,s,`in ${e}() call`),C&&l.push(`--sourcemap${C===!0?"":`=${C}`}`),U&&l.push("--bundle"),re&&l.push("--allow-overwrite"),k)if(l.push("--watch"),typeof k=="boolean")R={};else{let m=Object.create(null),L=n(k,m,"onRebuild",Se);K(k,m,`on "watch" in ${e}() call`),R={onRebuild:L}}if(T&&l.push("--splitting"),q&&l.push("--preserve-symlinks"),I&&l.push("--metafile"),Y&&l.push(`--outfile=${Y}`),x&&l.push(`--outdir=${x}`),d&&l.push(`--outbase=${d}`),o&&l.push(`--tsconfig=${o}`),p&&l.push(`--packages=${p}`),f){let m=[];for(let L of f){if(V(L,"resolve extension"),L.indexOf(",")>=0)throw new Error(`Invalid resolve extension: ${L}`);m.push(L)}l.push(`--resolve-extensions=${m.join(",")}`)}if(D&&l.push(`--public-path=${D}`),M&&l.push(`--entry-names=${M}`),v&&l.push(`--chunk-names=${v}`),$&&l.push(`--asset-names=${$}`),E){let m=[];for(let L of E){if(V(L,"main field"),L.indexOf(",")>=0)throw new Error(`Invalid main field: ${L}`);m.push(L)}l.push(`--main-fields=${m.join(",")}`)}if(A){let m=[];for(let L of A){if(V(L,"condition"),L.indexOf(",")>=0)throw new Error(`Invalid condition: ${L}`);m.push(L)}l.push(`--conditions=${m.join(",")}`)}if(u)for(let m of u)l.push(`--external:${V(m,"external")}`);if(w)for(let m in w){if(m.indexOf("=")>=0)throw new Error(`Invalid package name in alias: ${m}`);l.push(`--alias:${m}=${V(w[m],"alias",m)}`)}if(_)for(let m in _){if(m.indexOf("=")>=0)throw new Error(`Invalid banner file type: ${m}`);l.push(`--banner:${m}=${V(_[m],"banner",m)}`)}if(N)for(let m in N){if(m.indexOf("=")>=0)throw new Error(`Invalid footer file type: ${m}`);l.push(`--footer:${m}=${V(N[m],"footer",m)}`)}if(z)for(let m of z)l.push(`--inject:${V(m,"inject")}`);if(S)for(let m in S){if(m.indexOf("=")>=0)throw new Error(`Invalid loader extension: ${m}`);l.push(`--loader:${m}=${V(S[m],"loader",m)}`)}if(O)for(let m in O){if(m.indexOf("=")>=0)throw new Error(`Invalid out extension: ${m}`);l.push(`--out-extension:${m}=${V(O[m],"out extension",m)}`)}if(P)if(Array.isArray(P))for(let m of P)c.push(["",V(m,"entry point")]);else for(let m in P)c.push([m,V(P[m],"entry point",m)]);if(j){let m=Object.create(null),L=n(j,m,"contents",Fe),ke=n(j,m,"resolveDir",b),$e=n(j,m,"sourcefile",b),Me=n(j,m,"loader",b);K(j,m,'in "stdin" object'),$e&&l.push(`--sourcefile=${$e}`),Me&&l.push(`--loader=${Me}`),ke&&(y=ke),typeof L=="string"?g=H(L):L instanceof Uint8Array&&(g=L)}let Q=[];if(h)for(let m of h)m+="",Q.push(m);return{entries:c,flags:l,write:G,stdinContents:g,stdinResolveDir:y,absWorkingDir:B,incremental:fe,nodePaths:Q,watch:R,mangleCache:Ne(Z)}}function nt(e,t,r,i){let a=[],l=Object.create(null);ye(a,t,l,r,i),Le(a,t,l);let c=n(t,l,"sourcemap",Ue),s=n(t,l,"tsconfigRaw",Ze),g=n(t,l,"sourcefile",b),y=n(t,l,"loader",b),R=n(t,l,"banner",b),C=n(t,l,"footer",b),U=n(t,l,"mangleCache",X);return K(t,l,`in ${e}() call`),c&&a.push(`--sourcemap=${c===!0?"external":c}`),s&&a.push(`--tsconfig-raw=${typeof s=="string"?s:JSON.stringify(s)}`),g&&a.push(`--sourcefile=${g}`),y&&a.push(`--loader=${y}`),R&&a.push(`--banner=${R}`),C&&a.push(`--footer=${C}`),{flags:a,mangleCache:Ne(U)}}function Ie(e){let t={},r={didClose:!1,reason:""},i={},a=0,l=0,c=new Uint8Array(16*1024),s=0,g=d=>{let o=s+d.length;if(o>c.length){let h=new Uint8Array(o*2);h.set(c),c=h}c.set(d,s),s+=d.length;let f=0;for(;f+4<=s;){let h=Oe(c,f);if(f+4+h>s)break;f+=4,T(c.subarray(f,f+h)),f+=h}f>0&&(c.copyWithin(0,f,s),s-=f)},y=d=>{r.didClose=!0,d&&(r.reason=": "+(d.message||d));let o="The service was stopped"+r.reason;for(let f in i)i[f](o,null);i={}},R=(d,o,f)=>{if(r.didClose)return f("The service is no longer running"+r.reason,null);let h=a++;i[h]=(E,A)=>{try{f(E,A)}finally{d&&d.unref()}},d&&d.ref(),e.writeToStdin(xe({id:h,isRequest:!0,value:o}))},C=(d,o)=>{if(r.didClose)throw new Error("The service is no longer running"+r.reason);e.writeToStdin(xe({id:d,isRequest:!1,value:o}))},U=(d,o)=>ee(this,null,function*(){try{if(o.command==="ping"){C(d,{});return}if(typeof o.key=="number"){let f=t[o.key];if(f){let h=f[o.command];if(h){yield h(d,o);return}}}throw new Error("Invalid command: "+o.command)}catch(f){C(d,{errors:[ae(f,e,null,void 0,"")]})}}),k=!0,T=d=>{if(k){k=!1;let f=String.fromCharCode(...d);if(f!=="0.16.17")throw new Error(`Cannot start service: Host version "0.16.17" does not match binary version ${J(f)}`);return}let o=Ce(d);if(o.isRequest)U(o.id,o.value);else{let f=i[o.id];delete i[o.id],o.value.error?f(o.value.error,{}):f(null,o.value)}};return{readFromStdout:g,afterClose:y,service:{buildOrServe:({callName:d,refs:o,serveOptions:f,options:h,isTTY:E,defaultWD:A,callback:u})=>{let p=0,w=l++,S={},O={ref(){++p===1&&o&&o.ref()},unref(){--p===0&&(delete t[w],o&&o.unref())}};t[w]=S,O.ref(),lt(d,w,R,C,O,e,S,h,f,E,A,r,(D,M)=>{try{u(D,M)}finally{O.unref()}})},transform:({callName:d,refs:o,input:f,options:h,isTTY:E,fs:A,callback:u})=>{let p=We(),w=S=>{try{if(typeof f!="string"&&!(f instanceof Uint8Array))throw new Error('The input to "transform" must be a string or a Uint8Array');let{flags:O,mangleCache:D}=nt(d,h,E,De),M={command:"transform",flags:O,inputFS:S!==null,input:S!==null?H(S):typeof f=="string"?H(f):f};D&&(M.mangleCache=D),R(o,M,(v,$)=>{if(v)return u(new Error(v),null);let z=te($.errors,p),_=te($.warnings,p),N=1,P=()=>{if(--N===0){let B={warnings:_,code:$.code,map:$.map};"legalComments"in $&&(B.legalComments=$==null?void 0:$.legalComments),$.mangleCache&&(B.mangleCache=$==null?void 0:$.mangleCache),u(null,B)}};if(z.length>0)return u(oe("Transform failed",z,_),null);$.codeFS&&(N++,A.readFile($.code,(B,j)=>{B!==null?u(B,null):($.code=j,P())})),$.mapFS&&(N++,A.readFile($.map,(B,j)=>{B!==null?u(B,null):($.map=j,P())})),P()})}catch(O){let D=[];try{ye(D,h,{},E,De)}catch(v){}let M=ae(O,e,p,void 0,"");R(o,{command:"error",flags:D,error:M},()=>{M.detail=p.load(M.detail),u(oe("Transform failed",[M],[]),null)})}};if((typeof f=="string"||f instanceof Uint8Array)&&f.length>1024*1024){let S=w;w=()=>A.writeFile(f,S)}w(null)},formatMessages:({callName:d,refs:o,messages:f,options:h,callback:E})=>{let A=le(f,"messages",null,"");if(!h)throw new Error(`Missing second argument in ${d}() call`);let u={},p=n(h,u,"kind",b),w=n(h,u,"color",F),S=n(h,u,"terminalWidth",se);if(K(h,u,`in ${d}() call`),p===void 0)throw new Error(`Missing "kind" in ${d}() call`);if(p!=="error"&&p!=="warning")throw new Error(`Expected "kind" to be "error" or "warning" in ${d}() call`);let O={command:"format-msgs",messages:A,isWarning:p==="warning"};w!==void 0&&(O.color=w),S!==void 0&&(O.terminalWidth=S),R(o,O,(D,M)=>{if(D)return E(new Error(D),null);E(null,M.messages)})},analyzeMetafile:({callName:d,refs:o,metafile:f,options:h,callback:E})=>{h===void 0&&(h={});let A={},u=n(h,A,"color",F),p=n(h,A,"verbose",F);K(h,A,`in ${d}() call`);let w={command:"analyze-metafile",metafile:f};u!==void 0&&(w.color=u),p!==void 0&&(w.verbose=p),R(o,w,(S,O)=>{if(S)return E(new Error(S),null);E(null,O.result)})}}}}function lt(e,t,r,i,a,l,c,s,g,y,R,C,U){let k=We(),T=(x,d,o,f)=>{let h=[];try{ye(h,s,{},y,Ae)}catch(A){}let E=ae(x,l,k,o,d);r(a,{command:"error",flags:h,error:E},()=>{E.detail=k.load(E.detail),f(E)})},q=(x,d)=>{T(x,d,void 0,o=>{U(oe("Build failed",[o],[]),null)})},I;if(typeof s=="object"){let x=s.plugins;if(x!==void 0){if(!Array.isArray(x))throw new Error('"plugins" must be an array');I=x}}if(I&&I.length>0){if(l.isSync){q(new Error("Cannot use plugins in synchronous API calls"),"");return}ot(t,r,i,a,l,c,s,I,k).then(x=>{if(!x.ok){q(x.error,x.pluginName);return}try{Y(x.requestPlugins,x.runOnEndCallbacks)}catch(d){q(d,"")}},x=>q(x,""));return}try{Y(null,(x,d,o)=>o())}catch(x){q(x,"")}function Y(x,d){let o=!l.isWriteUnavailable,{entries:f,flags:h,write:E,stdinContents:A,stdinResolveDir:u,absWorkingDir:p,incremental:w,nodePaths:S,watch:O,mangleCache:D}=rt(e,s,y,Ae,o),M={command:"build",key:t,entries:f,flags:h,write:E,stdinContents:A,stdinResolveDir:u,absWorkingDir:p||R,incremental:w,nodePaths:S};x&&(M.plugins=x),D&&(M.mangleCache=D);let v=g&&it(t,r,i,a,c,g,M),$,z,_=(P,B)=>{P.outputFiles&&(B.outputFiles=P.outputFiles.map(st)),P.metafile&&(B.metafile=JSON.parse(P.metafile)),P.mangleCache&&(B.mangleCache=P.mangleCache),P.writeToStdout!==void 0&&console.log(ne(P.writeToStdout).replace(/\n$/,""))},N=(P,B)=>{let j={errors:te(P.errors,k),warnings:te(P.warnings,k)};_(P,j),d(j,T,()=>{if(j.errors.length>0)return B(oe("Build failed",j.errors,j.warnings),null);if(P.rebuild){if(!$){let G=!1;$=()=>new Promise((re,fe)=>{if(G||C.didClose)throw new Error("Cannot rebuild");r(a,{command:"rebuild",key:t},(Z,Q)=>{if(Z)return B(oe("Build failed",[{id:"",pluginName:"",text:Z,location:null,notes:[],detail:void 0}],[]),null);N(Q,(ie,m)=>{ie?fe(ie):re(m)})})}),a.ref(),$.dispose=()=>{G||(G=!0,r(a,{command:"rebuild-dispose",key:t},()=>{}),a.unref())}}j.rebuild=$}if(P.watch){if(!z){let G=!1;a.ref(),z=()=>{G||(G=!0,delete c["watch-rebuild"],r(a,{command:"watch-stop",key:t},()=>{}),a.unref())},O&&(c["watch-rebuild"]=(re,fe)=>{try{let Z=fe.args,Q={errors:te(Z.errors,k),warnings:te(Z.warnings,k)};_(Z,Q),d(Q,T,()=>{if(Q.errors.length>0){O.onRebuild&&O.onRebuild(oe("Build failed",Q.errors,Q.warnings),null);return}Q.stop=z,O.onRebuild&&O.onRebuild(null,Q)})}catch(Z){console.error(Z)}i(re,{})})}j.stop=z}B(null,j)})};if(E&&l.isWriteUnavailable)throw new Error('The "write" option is unavailable in this environment');if(w&&l.isSync)throw new Error('Cannot use "incremental" with a synchronous build');if(O&&l.isSync)throw new Error('Cannot use "watch" with a synchronous build');r(a,M,(P,B)=>{if(P)return U(new Error(P),null);if(v){let j=B,G=!1;a.ref();let re={port:j.port,host:j.host,wait:v.wait,stop(){G||(G=!0,v.stop(),a.unref())}};return a.ref(),v.wait.then(a.unref,a.unref),U(null,re)}return N(B,U)})}}var it=(e,t,r,i,a,l,c)=>{let s={},g=n(l,s,"port",se),y=n(l,s,"host",b),R=n(l,s,"servedir",b),C=n(l,s,"onRequest",Se),U=new Promise((k,T)=>{a["serve-wait"]=(q,I)=>{I.error!==null?T(new Error(I.error)):k(),r(q,{})}});return c.serve={},K(l,s,"in serve() call"),g!==void 0&&(c.serve.port=g),y!==void 0&&(c.serve.host=y),R!==void 0&&(c.serve.servedir=R),a["serve-request"]=(k,T)=>{C&&C(T.args),r(k,{})},{wait:U,stop(){t(i,{command:"serve-stop",key:e},()=>{})}}},ot=(e,t,r,i,a,l,c,s,g)=>ee(void 0,null,function*(){let y=[],R=[],C={},U={},k=0,T=0,q=[],I=!1;s=[...s];for(let x of s){let d={};if(typeof x!="object")throw new Error(`Plugin at index ${T} must be an object`);let o=n(x,d,"name",b);if(typeof o!="string"||o==="")throw new Error(`Plugin at index ${T} is missing a name`);try{let f=n(x,d,"setup",Se);if(typeof f!="function")throw new Error("Plugin is missing a setup function");K(x,d,`on plugin ${J(o)}`);let h={name:o,onStart:!1,onEnd:!1,onResolve:[],onLoad:[]};T++;let A=f({initialOptions:c,resolve:(u,p={})=>{if(!I)throw new Error('Cannot call "resolve" before plugin setup has completed');if(typeof u!="string")throw new Error("The path to resolve must be a string");let w=Object.create(null),S=n(p,w,"pluginName",b),O=n(p,w,"importer",b),D=n(p,w,"namespace",b),M=n(p,w,"resolveDir",b),v=n(p,w,"kind",b),$=n(p,w,"pluginData",ge);return K(p,w,"in resolve() call"),new Promise((z,_)=>{let N={command:"resolve",path:u,key:e,pluginName:o};if(S!=null&&(N.pluginName=S),O!=null&&(N.importer=O),D!=null&&(N.namespace=D),M!=null&&(N.resolveDir=M),v!=null)N.kind=v;else throw new Error('Must specify "kind" when calling "resolve"');$!=null&&(N.pluginData=g.store($)),t(i,N,(P,B)=>{P!==null?_(new Error(P)):z({errors:te(B.errors,g),warnings:te(B.warnings,g),path:B.path,external:B.external,sideEffects:B.sideEffects,namespace:B.namespace,suffix:B.suffix,pluginData:g.load(B.pluginData)})})})},onStart(u){let p='This error came from the "onStart" callback registered here:',w=de(new Error(p),a,"onStart");y.push({name:o,callback:u,note:w}),h.onStart=!0},onEnd(u){let p='This error came from the "onEnd" callback registered here:',w=de(new Error(p),a,"onEnd");R.push({name:o,callback:u,note:w}),h.onEnd=!0},onResolve(u,p){let w='This error came from the "onResolve" callback registered here:',S=de(new Error(w),a,"onResolve"),O={},D=n(u,O,"filter",me),M=n(u,O,"namespace",b);if(K(u,O,`in onResolve() call for plugin ${J(o)}`),D==null)throw new Error("onResolve() call is missing a filter");let v=k++;C[v]={name:o,callback:p,note:S},h.onResolve.push({id:v,filter:D.source,namespace:M||""})},onLoad(u,p){let w='This error came from the "onLoad" callback registered here:',S=de(new Error(w),a,"onLoad"),O={},D=n(u,O,"filter",me),M=n(u,O,"namespace",b);if(K(u,O,`in onLoad() call for plugin ${J(o)}`),D==null)throw new Error("onLoad() call is missing a filter");let v=k++;U[v]={name:o,callback:p,note:S},h.onLoad.push({id:v,filter:D.source,namespace:M||""})},esbuild:a.esbuild});A&&(yield A),q.push(h)}catch(f){return{ok:!1,error:f,pluginName:o}}}l["on-start"]=(x,d)=>ee(void 0,null,function*(){let o={errors:[],warnings:[]};yield Promise.all(y.map(A=>ee(void 0,[A],function*({name:f,callback:h,note:E}){try{let u=yield h();if(u!=null){if(typeof u!="object")throw new Error(`Expected onStart() callback in plugin ${J(f)} to return an object`);let p={},w=n(u,p,"errors",W),S=n(u,p,"warnings",W);K(u,p,`from onStart() callback in plugin ${J(f)}`),w!=null&&o.errors.push(...le(w,"errors",g,f)),S!=null&&o.warnings.push(...le(S,"warnings",g,f))}}catch(u){o.errors.push(ae(u,a,g,E&&E(),f))}}))),r(x,o)}),l["on-resolve"]=(x,d)=>ee(void 0,null,function*(){let o={},f="",h,E;for(let A of d.ids)try{({name:f,callback:h,note:E}=C[A]);let u=yield h({path:d.path,importer:d.importer,namespace:d.namespace,resolveDir:d.resolveDir,kind:d.kind,pluginData:g.load(d.pluginData)});if(u!=null){if(typeof u!="object")throw new Error(`Expected onResolve() callback in plugin ${J(f)} to return an object`);let p={},w=n(u,p,"pluginName",b),S=n(u,p,"path",b),O=n(u,p,"namespace",b),D=n(u,p,"suffix",b),M=n(u,p,"external",F),v=n(u,p,"sideEffects",F),$=n(u,p,"pluginData",ge),z=n(u,p,"errors",W),_=n(u,p,"warnings",W),N=n(u,p,"watchFiles",W),P=n(u,p,"watchDirs",W);K(u,p,`from onResolve() callback in plugin ${J(f)}`),o.id=A,w!=null&&(o.pluginName=w),S!=null&&(o.path=S),O!=null&&(o.namespace=O),D!=null&&(o.suffix=D),M!=null&&(o.external=M),v!=null&&(o.sideEffects=v),$!=null&&(o.pluginData=g.store($)),z!=null&&(o.errors=le(z,"errors",g,f)),_!=null&&(o.warnings=le(_,"warnings",g,f)),N!=null&&(o.watchFiles=pe(N,"watchFiles")),P!=null&&(o.watchDirs=pe(P,"watchDirs"));break}}catch(u){o={id:A,errors:[ae(u,a,g,E&&E(),f)]};break}r(x,o)}),l["on-load"]=(x,d)=>ee(void 0,null,function*(){let o={},f="",h,E;for(let A of d.ids)try{({name:f,callback:h,note:E}=U[A]);let u=yield h({path:d.path,namespace:d.namespace,suffix:d.suffix,pluginData:g.load(d.pluginData)});if(u!=null){if(typeof u!="object")throw new Error(`Expected onLoad() callback in plugin ${J(f)} to return an object`);let p={},w=n(u,p,"pluginName",b),S=n(u,p,"contents",Fe),O=n(u,p,"resolveDir",b),D=n(u,p,"pluginData",ge),M=n(u,p,"loader",b),v=n(u,p,"errors",W),$=n(u,p,"warnings",W),z=n(u,p,"watchFiles",W),_=n(u,p,"watchDirs",W);K(u,p,`from onLoad() callback in plugin ${J(f)}`),o.id=A,w!=null&&(o.pluginName=w),S instanceof Uint8Array?o.contents=S:S!=null&&(o.contents=H(S)),O!=null&&(o.resolveDir=O),D!=null&&(o.pluginData=g.store(D)),M!=null&&(o.loader=M),v!=null&&(o.errors=le(v,"errors",g,f)),$!=null&&(o.warnings=le($,"warnings",g,f)),z!=null&&(o.watchFiles=pe(z,"watchFiles")),_!=null&&(o.watchDirs=pe(_,"watchDirs"));break}}catch(u){o={id:A,errors:[ae(u,a,g,E&&E(),f)]};break}r(x,o)});let Y=(x,d,o)=>o();return R.length>0&&(Y=(x,d,o)=>{(()=>ee(void 0,null,function*(){for(let{name:f,callback:h,note:E}of R)try{yield h(x)}catch(A){x.errors.push(yield new Promise(u=>d(A,f,E&&E(),u)))}}))().then(o)}),I=!0,{ok:!0,requestPlugins:q,runOnEndCallbacks:Y}});function We(){let e=new Map,t=0;return{load(r){return e.get(r)},store(r){if(r===void 0)return-1;let i=t++;return e.set(i,r),i}}}function de(e,t,r){let i,a=!1;return()=>{if(a)return i;a=!0;try{let l=(e.stack+"").split(`
`);l.splice(1,1);let c=qe(t,l,r);if(c)return i={text:e.message,location:c},i}catch(l){}}}function ae(e,t,r,i,a){let l="Internal error",c=null;try{l=(e&&e.message||e)+""}catch(s){}try{c=qe(t,(e.stack+"").split(`
`),"")}catch(s){}return{id:"",pluginName:a,text:l,location:c,notes:i?[i]:[],detail:r?r.store(e):-1}}function qe(e,t,r){let i="    at ";if(e.readFileSync&&!t[0].startsWith(i)&&t[1].startsWith(i))for(let a=1;a<t.length;a++){let l=t[a];if(l.startsWith(i))for(l=l.slice(i.length);;){let c=/^(?:new |async )?\S+ \((.*)\)$/.exec(l);if(c){l=c[1];continue}if(c=/^eval at \S+ \((.*)\)(?:, \S+:\d+:\d+)?$/.exec(l),c){l=c[1];continue}if(c=/^(\S+):(\d+):(\d+)$/.exec(l),c){let s;try{s=e.readFileSync(c[1],"utf8")}catch(C){break}let g=s.split(/\r\n|\r|\n|\u2028|\u2029/)[+c[2]-1]||"",y=+c[3]-1,R=g.slice(y,y+r.length)===r?r.length:0;return{file:c[1],namespace:"file",line:+c[2],column:H(g.slice(0,y)).length,length:H(g.slice(y,y+R)).length,lineText:g+`
`+t.slice(1).join(`
`),suggestion:""}}break}}return null}function oe(e,t,r){let i=5,a=t.length<1?"":` with ${t.length} error${t.length<2?"":"s"}:`+t.slice(0,i+1).map((c,s)=>{if(s===i)return`
...`;if(!c.location)return`
error: ${c.text}`;let{file:g,line:y,column:R}=c.location,C=c.pluginName?`[plugin: ${c.pluginName}] `:"";return`
${g}:${y}:${R}: ERROR: ${C}${c.text}`}).join(""),l=new Error(`${e}${a}`);return l.errors=t,l.warnings=r,l}function te(e,t){for(let r of e)r.detail=t.load(r.detail);return e}function Be(e,t){if(e==null)return null;let r={},i=n(e,r,"file",b),a=n(e,r,"namespace",b),l=n(e,r,"line",se),c=n(e,r,"column",se),s=n(e,r,"length",se),g=n(e,r,"lineText",b),y=n(e,r,"suggestion",b);return K(e,r,t),{file:i||"",namespace:a||"",line:l||0,column:c||0,length:s||0,lineText:g||"",suggestion:y||""}}function le(e,t,r,i){let a=[],l=0;for(let c of e){let s={},g=n(c,s,"id",b),y=n(c,s,"pluginName",b),R=n(c,s,"text",b),C=n(c,s,"location",Te),U=n(c,s,"notes",W),k=n(c,s,"detail",ge),T=`in element ${l} of "${t}"`;K(c,s,T);let q=[];if(U)for(let I of U){let Y={},x=n(I,Y,"text",b),d=n(I,Y,"location",Te);K(I,Y,T),q.push({text:x||"",location:Be(d,T)})}a.push({id:g||"",pluginName:y||i,text:R||"",location:Be(C,T),notes:q,detail:r?r.store(k):-1}),l++}return a}function pe(e,t){let r=[];for(let i of e){if(typeof i!="string")throw new Error(`${J(t)} must be an array of strings`);r.push(i)}return r}function st({path:e,contents:t}){let r=null;return{path:e,contents:t,get text(){let i=this.contents;return(r===null||i!==t)&&(t=i,r=ne(i)),r}}}var ut="0.16.17",ft=e=>he().build(e),ct=()=>{throw new Error('The "serve" API only works in node')},dt=(e,t)=>he().transform(e,t),pt=(e,t)=>he().formatMessages(e,t),gt=(e,t)=>he().analyzeMetafile(e,t),mt=()=>{throw new Error('The "buildSync" API only works in node')},yt=()=>{throw new Error('The "transformSync" API only works in node')},ht=()=>{throw new Error('The "formatMessagesSync" API only works in node')},bt=()=>{throw new Error('The "analyzeMetafileSync" API only works in node')},ue,Ee,he=()=>{if(Ee)return Ee;throw ue?new Error('You need to wait for the promise returned from "initialize" to be resolved before calling this'):new Error('You need to call "initialize" before calling this')},wt=e=>{e=je(e||{});let t=e.wasmURL,r=e.wasmModule,i=e.worker!==!1;if(!t&&!r)throw new Error('Must provide either the "wasmURL" option or the "wasmModule" option');if(ue)throw new Error('Cannot call "initialize" more than once');return ue=vt(t||"",r,i),ue.catch(()=>{ue=void 0}),ue},vt=(e,t,r)=>ee(void 0,null,function*(){let i;if(r){let y=new Blob(['onmessage=(postMessage=>{\n// Copyright 2018 The Go Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style\n// license that can be found in the LICENSE file.\nvar y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`\n`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`\n`);g.length>1&&console.log(g.slice(0,-1).join(`\n`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.16.17"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(postMessage)'],{type:"text/javascript"});i=new Worker(URL.createObjectURL(y))}else{let y=(postMessage=>{
// Copyright 2018 The Go Authors. All rights reserved.
// Use of this source code is governed by a BSD-style
// license that can be found in the LICENSE file.
var y=(r,f,m)=>new Promise((c,n)=>{var s=h=>{try{l(m.next(h))}catch(u){n(u)}},i=h=>{try{l(m.throw(h))}catch(u){n(u)}},l=h=>h.done?c(h.value):Promise.resolve(h.value).then(s,i);l((m=m.apply(r,f)).next())});let onmessage,globalThis={};for(let r=self;r;r=Object.getPrototypeOf(r))for(let f of Object.getOwnPropertyNames(r))f in globalThis||Object.defineProperty(globalThis,f,{get:()=>self[f]});(()=>{const r=()=>{const c=new Error("not implemented");return c.code="ENOSYS",c};if(!globalThis.fs){let c="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(n,s){c+=m.decode(s);const i=c.lastIndexOf(`
`);return i!=-1&&(console.log(c.substr(0,i)),c=c.substr(i+1)),s.length},write(n,s,i,l,h,u){if(i!==0||l!==s.length||h!==null){u(r());return}const g=this.writeSync(n,s);u(null,g)},chmod(n,s,i){i(r())},chown(n,s,i,l){l(r())},close(n,s){s(r())},fchmod(n,s,i){i(r())},fchown(n,s,i,l){l(r())},fstat(n,s){s(r())},fsync(n,s){s(null)},ftruncate(n,s,i){i(r())},lchown(n,s,i,l){l(r())},link(n,s,i){i(r())},lstat(n,s){s(r())},mkdir(n,s,i){i(r())},open(n,s,i,l){l(r())},read(n,s,i,l,h,u){u(r())},readdir(n,s){s(r())},readlink(n,s){s(r())},rename(n,s,i){i(r())},rmdir(n,s){s(r())},stat(n,s){s(r())},symlink(n,s,i){i(r())},truncate(n,s,i){i(r())},unlink(n,s){s(r())},utimes(n,s,i,l){l(r())}}}if(globalThis.process||(globalThis.process={getuid(){return-1},getgid(){return-1},geteuid(){return-1},getegid(){return-1},getgroups(){throw r()},pid:-1,ppid:-1,umask(){throw r()},cwd(){throw r()},chdir(){throw r()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const f=new TextEncoder("utf-8"),m=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{e!==0&&console.warn("exit code:",e)},this._exitPromise=new Promise(e=>{this._resolveExitPromise=e}),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const c=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},n=e=>{const t=this.mem.getUint32(e+0,!0),o=this.mem.getInt32(e+4,!0);return t+o*4294967296},s=e=>{const t=this.mem.getFloat64(e,!0);if(t===0)return;if(!isNaN(t))return t;const o=this.mem.getUint32(e,!0);return this._values[o]},i=(e,t)=>{if(typeof t=="number"&&t!==0){if(isNaN(t)){this.mem.setUint32(e+4,2146959360,!0),this.mem.setUint32(e,0,!0);return}this.mem.setFloat64(e,t,!0);return}if(t===void 0){this.mem.setFloat64(e,0,!0);return}let a=this._ids.get(t);a===void 0&&(a=this._idPool.pop(),a===void 0&&(a=this._values.length),this._values[a]=t,this._goRefCounts[a]=0,this._ids.set(t,a)),this._goRefCounts[a]++;let d=0;switch(typeof t){case"object":t!==null&&(d=1);break;case"string":d=2;break;case"symbol":d=3;break;case"function":d=4;break}this.mem.setUint32(e+4,2146959360|d,!0),this.mem.setUint32(e,a,!0)},l=e=>{const t=n(e+0),o=n(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,o)},h=e=>{const t=n(e+0),o=n(e+8),a=new Array(o);for(let d=0;d<o;d++)a[d]=s(t+d*8);return a},u=e=>{const t=n(e+0),o=n(e+8);return m.decode(new DataView(this._inst.exports.mem.buffer,t,o))},g=Date.now()-performance.now();this.importObject={go:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{e>>>=0;const t=n(e+8),o=n(e+16),a=this.mem.getInt32(e+24,!0);globalThis.fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,o,a))},"runtime.resetMemoryDataView":e=>{e>>>=0,this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":e=>{e>>>=0,c(e+8,(g+performance.now())*1e6)},"runtime.walltime":e=>{e>>>=0;const t=new Date().getTime();c(e+8,t/1e3),this.mem.setInt32(e+16,t%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout(()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()},n(e+8)+1)),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(l(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,this._goRefCounts[t]===0){const o=this._values[t];this._values[t]=null,this._ids.delete(o),this._idPool.push(t)}},"syscall/js.stringVal":e=>{e>>>=0,i(e+24,u(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(s(e+8),u(e+16));e=this._inst.exports.getsp()>>>0,i(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(s(e+8),u(e+16),s(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(s(e+8),u(e+16))},"syscall/js.valueIndex":e=>{e>>>=0,i(e+24,Reflect.get(s(e+8),n(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(s(e+8),n(e+16),s(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=s(e+8),o=Reflect.get(t,u(e+16)),a=h(e+32),d=Reflect.apply(o,t,a);e=this._inst.exports.getsp()>>>0,i(e+56,d),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.apply(t,void 0,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=s(e+8),o=h(e+16),a=Reflect.construct(t,o);e=this._inst.exports.getsp()>>>0,i(e+40,a),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,i(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":e=>{e>>>=0,c(e+16,parseInt(s(e+8).length))},"syscall/js.valuePrepareString":e=>{e>>>=0;const t=f.encode(String(s(e+8)));i(e+16,t),c(e+24,t.length)},"syscall/js.valueLoadString":e=>{e>>>=0;const t=s(e+8);l(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,s(e+8)instanceof s(e+16)?1:0)},"syscall/js.copyBytesToGo":e=>{e>>>=0;const t=l(e+8),o=s(e+32);if(!(o instanceof Uint8Array||o instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},"syscall/js.copyBytesToJS":e=>{e>>>=0;const t=s(e+8),o=l(e+16);if(!(t instanceof Uint8Array||t instanceof Uint8ClampedArray)){this.mem.setUint8(e+48,0);return}const a=o.subarray(0,t.length);t.set(a),c(e+40,a.length),this.mem.setUint8(e+48,1)},debug:e=>{console.log(e)}}}}run(c){return y(this,null,function*(){if(!(c instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=c,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const t=n,o=f.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,o.length).set(o),n+=o.length,n%8!==0&&(n+=8-n%8),t},i=this.argv.length,l=[];this.argv.forEach(e=>{l.push(s(e))}),l.push(0),Object.keys(this.env).sort().forEach(e=>{l.push(s(`${e}=${this.env[e]}`))}),l.push(0);const u=n;l.forEach(e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8});const g=4096+8192;if(n>=g)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(i,u),this.exited&&this._resolveExitPromise(),yield this._exitPromise})}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(c){const n=this;return function(){const s={id:c,this:this,args:arguments};return n._pendingEvent=s,n._resume(),s.result}}}})(),onmessage=({data:r})=>{let f=new TextDecoder,m=globalThis.fs,c="";m.writeSync=(h,u)=>{if(h===1)postMessage(u);else if(h===2){c+=f.decode(u);let g=c.split(`
`);g.length>1&&console.log(g.slice(0,-1).join(`
`)),c=g[g.length-1]}else throw new Error("Bad write");return u.length};let n=[],s,i=0;onmessage=({data:h})=>{h.length>0&&(n.push(h),s&&s())},m.read=(h,u,g,e,t,o)=>{if(h!==0||g!==0||e!==u.length||t!==null)throw new Error("Bad read");if(n.length===0){s=()=>m.read(h,u,g,e,t,o);return}let a=n[0],d=Math.max(0,Math.min(e,a.length-i));u.set(a.subarray(i,i+d),g),i+=d,i===a.length&&(n.shift(),i=0),o(null,d)};let l=new globalThis.Go;l.argv=["","--service=0.16.17"],tryToInstantiateModule(r,l).then(h=>{postMessage(null),l.run(h)},h=>{postMessage(h)})};function tryToInstantiateModule(r,f){return y(this,null,function*(){if(r instanceof WebAssembly.Module)return WebAssembly.instantiate(r,f.importObject);const m=yield fetch(r);if(!m.ok)throw new Error(`Failed to download ${JSON.stringify(r)}`);if("instantiateStreaming"in WebAssembly&&/^application\/wasm($|;)/i.test(m.headers.get("Content-Type")||""))return(yield WebAssembly.instantiateStreaming(m,f.importObject)).instance;const c=yield m.arrayBuffer();return(yield WebAssembly.instantiate(c,f.importObject)).instance})}return r=>onmessage(r);})(R=>i.onmessage({data:R}));i={onmessage:null,postMessage:R=>setTimeout(()=>y({data:R})),terminate(){}}}let a,l,c=new Promise((y,R)=>{a=y,l=R});i.onmessage=({data:y})=>{i.onmessage=({data:R})=>s(R),y?l(y):a()},i.postMessage(t||new URL(e,location.href).toString());let{readFromStdout:s,service:g}=Ie({writeToStdin(y){i.postMessage(y)},isSync:!1,isWriteUnavailable:!0,esbuild:be});yield c,Ee={build:y=>new Promise((R,C)=>g.buildOrServe({callName:"build",refs:null,serveOptions:null,options:y,isTTY:!1,defaultWD:"/",callback:(U,k)=>U?C(U):R(k)})),transform:(y,R)=>new Promise((C,U)=>g.transform({callName:"transform",refs:null,input:y,options:R||{},isTTY:!1,fs:{readFile(k,T){T(new Error("Internal error"),null)},writeFile(k,T){T(null)}},callback:(k,T)=>k?U(k):C(T)})),formatMessages:(y,R)=>new Promise((C,U)=>g.formatMessages({callName:"formatMessages",refs:null,messages:y,options:R,callback:(k,T)=>k?U(k):C(T)})),analyzeMetafile:(y,R)=>new Promise((C,U)=>g.analyzeMetafile({callName:"analyzeMetafile",refs:null,metafile:typeof y=="string"?y:JSON.stringify(y),options:R,callback:(k,T)=>k?U(k):C(T)}))}}),Rt=be;
})(typeof module==="object"?module:{set exports(x){(typeof self!=="undefined"?self:this).esbuild=x}});
